<!-- components/chapter-tree/index.wxml -->
<view class="chapter-tree">
  <view 
    class="tree-node {{isNodeSelected(item) ? 'selected' : ''}}"
    wx:for="{{treeData}}"
    wx:key="id"
    data-node="{{item}}"
  >
    <!-- 当前节点 -->
    <view class="node-header" bindtap="handleNodeClick">
      <text class="expand-icon" wx:if="{{item.children && item.children.length > 0}}">
        {{isNodeExpanded(item) ? '▼' : '►'}}
      </text>
      <text class="node-label">{{item.label}}</text>
    </view>
    
    <!-- 子节点递归渲染 -->
    <view class="children-nodes" wx:if="{{item.children && item.children.length > 0 && isNodeExpanded(item)}}">
      <chapter-tree 
        tree-data="{{item.children}}"
        current-path="{{currentPath}}"
        bind:nodeclick="handleNodeClick"
      />
    </view>
  </view>
</view>